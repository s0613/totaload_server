spring:
  datasource:
    url: jdbc:mariadb://localhost:3306/isoPlatformDB?useSSL=false&serverTimezone=Asia/Seoul
    username: ${DB_USERNAME:isoPlatformUser}
    password: ${DB_PASSWORD:IsoPlatform_2024!}
    driver-class-name: org.mariadb.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MariaDBDialect
        format_sql: true
        use_sql_comments: true
        enable_lazy_load_no_trans: true
        jdbc:
          lob:
            non_contextual_creation: true

  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:53065129250-j18ep3e5a75r4qjsv01812fetj5ipk00.apps.googleusercontent.com}
            client-secret: ${GOOGLE_CLIENT_SECRET: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}
            scope:
              - email
              - profile
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            client-name: Google

gemini:
  api-key: ${GEMINI_API_KEY}
  base-url: ${GEMINI_BASE_URL:https://generativelanguage.googleapis.com}

jwt:
  secret: ${JWT_SECRET:test-secret-key-for-jwt-token-generation-at-least-256-bits-long}
  expiration-time: ${JWT_EXPIRATION_TIME:3600000}
  refresh-expiration-time: ${JWT_REFRESH_EXPIRATION_TIME:604800000}

server:
  port: 8080
  servlet:
    encoding:
      charset: UTF-8
      enabled: true




# 프론트엔드 URL 설정
frontend:
  url: ${FRONTEND_URL:http://localhost:3000}

# OAuth2 보안 설정
auth:
  allowed-redirect-domains:
    - localhost:3000

# Mobile OAuth 설정 (Android PKCE)
app:
  oauth:
    mobile:
      # Android 클라이언트 (PKCE 사용, client_secret 없음)
      client-id: 53065129250-s3fk4rfuritk8e629lh9e4gb5lp6kvhm.apps.googleusercontent.com
      # Android redirect URI (custom scheme)
      redirect-uri: com.totaload.app:/oauth2redirect

# Swagger 설정
springdoc:
  version: 1.0.0
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    disable-swagger-default-url: true
    use-root-path: true
  cache:
    disabled: true
  show-actuator: false
  default-produces-media-type: application/json
  default-consumes-media-type: application/json
  # 그룹 설정 제거
  # packages-to-scan: com.aiwebsite_back.api
  # paths-to-match: /api/**

# 디버깅을 위한 로그 설정
logging:
  level:
    org.springdoc: DEBUG
    io.swagger.v3: DEBUG
    com.aiwebsite_back.api: DEBUG

security:
  api-keys:
    keys:
      qload: qload!
